# Руководство по использованию A3 bridge
- Релиз 0.1.0 апрель'2016
- Автор: Сергей Лоншаков

## Что такое A3 bridge
> A3 bridge - это десктопное приложение с открытым исходным кодом, позволяющее человеку работать с децентрализованными автономиями, созданными с помощью Aira core.

Техническое описание и возможности приложения находится в документе: "Техническая документация платформы Аира"

## Расположение основных файлов и директорий A3 bridge

    ./a3/
      /launchfile.exe
      /config/
        /default.json
      /blockchains/
        /aira/
      /import/
        /aira.json
      /gb/
        /aira_gb.json


- launchfile.exe - файл запуска приложения, располагается в корне директории /a3.
- /config/ - данная директория хранит конфигурационные файлы, в которых описаны децентрализованные автономии для работы с ними приложения A3 bridge. Приложение в один момент времени работает с одним конфигурационным файлом имеющим имя "default.json".
- /blockchains/ - по-умолчанию создаваемые децентрализованные автономии использующие блокчейн отличный от официального блокчейна сети Ethereum, хранят полную базу данных в данной директории.
- /import/ - данная директория хранит конфигурационные файлы, которые используются при импорте децентрализованных автономий.
- /gb/ - данная директория хранит json файлы, используемые при запуске клиента p2p сети для подключения к блокчейнам, отличным от официального блокчейна сети Ethereum.

## Установка приложения
> Официальный репозиторий приложения A3 bridge: https://github.com/airalab/a3-bridge

Скачайте последний релиз приложения по следующей ссылке: https://github.com/airalab/a3-bridge/releases

После скачивания - разархивируйте в удобное для вас место на компьютере и просто выполните запуск исполняемого файла.

## Первый запуск приложения
После запуска приложения вам будет предложено создать новую децентрализованную автономную организацию (DAO) или же импортировать информацию о уже существующей децентарлизованной автономии.

> Важно: запуск A3 bridge не требует изначальной синхронизации с каким либо блокчейн хранилищем, синхронизация начнется только после импорта или создания новой децентрализованной автономии.

### Импорт данных существующей децентрализованной автономии
Для того, чтобы выполнить импорт данных существующей децентрализованной автономии вам необходимо иметь 2 файла в директории <путь до приложения>/a3/import:
- **gb/genesis_block_name.json**. Данный файл хранит первый блок p2p сети, с которой пользователь желает начать работу.
- **dao_core_name.json**. Данный файл хранит настройки для запуска клиента p2p сети и обращения к ядру децентрализованной автономии.

#### Структура файла dao_core_name.json

```json

{
    "name": "Aira experemential network",
    "desc": "Aira experemential network description",
    "p2p protocol": "Ethereum with Aira trusted miners",
    "core address": "0x0",
    "core interface": "...",
    "params": [
        "--genesis", "../gb/aira_gb.json",
        "--datadir","../blockchains/aira",
        "--networkid", "22",
        "--port", "32222"
    ]
}
```
В блоке **"params"** указываются параметры, с которыми запускается клиент p2p сети.

#### Структура файла gb/genesis_block_name.json

Структура файла с начальным блоком p2p сети полностью соответствует стандартной структуре файла с начальным блоком, выбранной сети.

```json

{
   "nonce": "0x0000000000000042",
   "difficulty": "0x100000",
   "mixhash": "0x0000000000000000000000000000000000000000000000000000000000000000",
   "coinbase": "0x0000000000000000000000000000000000000000",
   "timestamp": "0x00",
   "parentHash": "0x0000000000000000000000000000000000000000000000000000000000000000",
   "extraData": "0x",
   "gasLimit": "0x2DC6C0"
}

```
#### Процесс импорта данных о децентрализованной автономии

Находясь на странице импорта в приложении и выбрав из списка интересующую вас автономию для импорта необходимо нажать кнопку старта синхронизации. После этого A3 bridge запустит клиент p2p сети с параметрами из dao_core_name.json и переведет вас на экран состояния синхронизации с p2p сетью.

В процессе импорта в основной конфигурационный файл приложения A3 bridge будет добавлена запись, позволяющая запомнить приложению о уже импортированном/созданном DAO.

После импорта конфигурационный файл будет выглядеть следующим образом:

```json
{
   "daos": [
       {
           "core address": "0x0",
           "core interface": "...",
           "p2p protocol": "Ethereum with Aira trusted miners",
           "params": [
               "--genesis", "../gb/aira_gb.json",
               "--datadir","../blockchains/aira",
               "--networkid", "22",
               "--port", "32222"
           ]
       }
   ]
}
```

## Стартовый экран приложения после добавления первой децентрализованной автономии
После того, как вы проимпортируете или создадите первую децентрализованную автономию приложение переведет вас на стартовый экран, который отражает информацию о добавленных DAO и возможность добавить (создать/импортировать) новую автономию

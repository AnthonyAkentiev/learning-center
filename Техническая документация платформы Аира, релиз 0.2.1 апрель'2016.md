# Техническая документация платформы Аира
- Релиз 0.2.1 апрель'2016
- Автор: Сергей Лоншаков

## Что такое Аира?
> Аира - это платформа с открытым исходным кодом для построения организации в виде децентрализованной автономии.

Аира рассматривает децентрализованные автономные организации, как p2p сети  агентов, использующих ценности и контракты существующие внутри сети, а не хранимые кем то из конкретных узлов. Таким образом агенты, ценности, контракты и сама организация становятся автономными.

## Возможности Аиры
Аира обеспечивает поселение ценностей организации в блокчейн хранилищах - приватных или публичных p2p сетей на выбор. А также помогает построить работу агентов с помощью программируемых контрактов.

### Использование автономных ценностей
Практически любая нематериальная ценность - ценные бумаги, валюта, права собственности, акции - могут существовать в сети, как автономные ценности. Это означает, что существование такого рода ценностей становится исключительно вопросом поддержания работоспособности сети любыми узлами, заинтересованными в существовании данных ценностей. При этом мы избегаем рисков хранения ценностей кем либо лично, так как их хранит сеть, а не конкретный агент. После создания ядра организации с помощью Aira core становится доступным создание и использование автономных ценностей.

### Использование автономных контрактов
Программируемые контракты, способные самостоятельно выполнять заложенную в них логику и хранимые в p2p сети обеспечивают взаимодействие участников договора без необходимости использовать агентов сети, как посредников гарантирующих выполнение контракта.  После создания ядра вашей организации с помощью Aira core вам становится доступным создание и использование автономных контрактов в работе агентов организации.


## Архитектура Aira DAO environment

![Image of Aira DAO environment architecture](https://github.com/airalab/docs/blob/master/images/aira-architecture.png)

### Поддерживаемые виды автономных агентов

В текущем релизе Аира будет поддерживать 2 вида автономных агентов: автономный агент человек, автономный агент робот, совместимый с ROS (robot operating system). Для работы человека с децентрализованной автономией используется десктопное приложение A3 bridge, для работы ROS - совместимого робота испульзуется Aira ROS bridge.

#### Приложение A3 bridge для работы человека с децентрализованной автономией

Официальный репозиторий на GitHub: https://github.com/aira-dao/a3-bridge

A3 bridge является десктопным приложением. Основная задача приложения заключается в предоставлении человекопонятного интерфейса автономному агенту для взаимодействия с инфраструктурой децентрализованных автономий. Приложение A3 bridge в текущей версии позволяет:

- Синхронизироваться с Aira network blockchain.
- Присоединиться к DAO "Aira research and develop foundation".
- Воспользоваться контрактом диспетчера проекта Drone employee.

Более подробно об использовании A3 bridge: [Руководство по использованию A3 bridge](https://github.com/airalab/docs/blob/master/%D0%A0%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E%20A3%20bridge.md).

Поддерживаемые ОС:
- Windows (32/64 bit)
- Linux (x86/x86_64)
- OS X

Поддерживаемые протоколы p2p сетей вы можете узнать в разделе: "Использование p2p сетей".

Примечание: приложение A3 bridge не требует специфичных дополнений для поддерживаемых ОС, однако для обеспечения работоспособности приложения вам необходимо, чтобы ваш компьютер соответствовал требованиям для работы клиента сети Ethereum. Подробнее читайте в официальной документации сети Ethereum: http://www.ethdocs.org/en/latest/

#### Приложение Aira IoT для работы ROS-совместимого робота с децентрализованной автономией

Официальный репозиторий на GitHub: https://github.com/aira-dao/aira_ros_bridge/

Aira IoT предоставляет возможность ROS-совместимому роботу самостоятельно (без участия операторов) взаимодействовать с объектами p2p сетей, использующей технологию Blockchain. Aira IoT позволяет:

    Alexander Krupenkin Добавить возможности Aira IoT списком.

Более подробно о возможностях Aira IoT читайте в разделе wiki: https://github.com/aira-dao/aira-IoT/wiki

### Использование p2p сетей

В работе  приложения автономного агента используется JSON-RPC протокол. С использованием данного протокола производится общение с p2p клиентами сетей, используемыми автономным агентом. На текущим момент Аира поддерживает следующие имплементации p2p протокола:

- Официальный протокол сети Ethereum.
- Протокол сети Ethereum с патчем Aira trusted miners.

### Инфраструктура децентрализованных автономий

Инфраструктура децентрализованных автономий состоит из ядра автономии, хранящего реестры объектов автономии; автономных ценностей; автономных контрактов и тезауруса организации. Для хранения информации о данных объектах используются распределенные хранилища (блокчейны) различных p2p сетей. Тем самым Аира позволяет децентрализованной автономнии использовать несколько хранилищ, если они используют один из поддерживаемых p2p протоколов.  

#### Ядро децентрализованной автономии (DAO core)
![Image of Aira DAO core](https://github.com/airalab/docs/blob/master/images/aira-core.png)


Ядро децентрализованной автономии представляет собой объект сети, который хранит:

- реестр автономных ценностей, с которыми заимодействует автономия;
- реестр доступных для заключения автономных контрактов, которые предлагает автономия агентам;
- реестр активных автономных контрактов, которые предлагает автономия агентам;
- адрес в сети, по которому возможно получить доступ к тезаурусу децентрализованной автономии;

Наиболее вероятно, что децентрализованные автономии будут использовать множество разных сетей. Для того, чтобы обеспечивать работоспособность автономии в различных сетях должно выполняться условие: каждая сеть должна иметь своё ядро автономии, описывающее объекты конкретной сети. При этом должна предусматриваться возможность организации связи между ядрами автономии, между сетями, у которых есть взаимосвязь. В простейшей форме такая связь может быть реализована через указания справочника связанных сетей и учетом, что термины в тезариусах связанных сетей должны совпадать в терминах общих для них.


    Автономия
        Сеть N
            Ядро Ns
                Узлы инфраструктуры автономии Ns
                    Узел инфраструктуры Nz
                    Узел инфраструктуры Nd
                    Узел инфраструктуры Nk
            Тезаурус автономии AN
            Доступные для использования шаблоны контрактов Ni
                Шаблон Nm
                Шаблон Ng
                Шаблон Ns
            Рабочие контракты Ny
                Контракт Nq
                Контракт No

Комментарии и пояснения к схеме: N - уникальный адрес сети, доступный любому пользователю, использующему протокол передачи данных децентрализованных автономий. При обращении по данному адресу пользователь получает доступ к ресурсам данной сети.  [Ns, Nz, Nd, … , No] - уникальный адрес объекта автономии в сети N.


##### Реестр узлов организации.
Данный реестр содержит записи об автономных ценностях и общезначимых для автономии контрактах - управление, голосование, рынок. По умолчанию работать с реестром узлов автномии может только создатель, но при подключении узлов управления организацией появляется возможность делигирования этой задачи контракту или другому автономному агенту.

##### Реестр активных контрактов
Автономные агенты, принимающие участие в деятельности децентрализованной автономии могут иметь активные (доступные) для пользователей данной сети контракты. Реестр данных контрактов, в публикации которых заинтересована автономия могут быть добавлены в данный реестр. По умолчанию работать с данным реестром  может только создатель, но при подключении узлов управления организацией появляется возможность делигирования этой задачи контракту или другому автономному агенту.
Реестр доступных для заключения контрактов.

Если автономия заинтересована в публикации шаблонов контрактов, например для сделки с ценностями автономии любыми агентами, то для этой задачи используется реестр доступных для заключения контрактов. По умолчанию работать с данным реестром  может только создатель, но при подключении узлов управления организацией появляется возможность делигирования этой задачи контракту или другому автономному агенту.

##### Реестр доступных для заключения контрактов
Если автономия заинтересована в публикации шаблонов контрактов, например для сделки с ценностями автономии любыми агентами, то для этой задачи используется реестр доступных для заключения контрактов. По умолчанию работать с данным реестром  может только создатель, но при подключении узлов управления организацией появляется возможность делигирования этой задачи контракту или другому автономному агенту.

##### Тезаурус организации
Тезаурус позволяет объявлять эталоны ценностей и контрактов в формате ключ значение, где ключом является термин, а значением код контракта, который описывает данный эталон. Такой подход используется для избежания разногласия в определении терминов при взаимодействии ашнетов внутри одной децентрализованной автономии.

> В релизе 0.2.1. полноценной работы с тезаурусом не реализуется.

#### Автономные ценности и автономные контракты
На текущий момент Аира позволяет работать с автономными ценностями и автономными контрактами, хранимыми в виде умных контрактов, используя p2p протокол сети Ethereum. Данный подход полностью обеспечивает предъявляемые Аирой требования к существованию ценностей и контрактов автономно.
> 13 апреля 2016 года. На сегодняшний день протокол сети Ethereum является наиболее популярным для решения задач хранения токенов и контрактов в единой p2p сети, поэтому Аира использует именно данный протокол. При появлении новых популярных и проверенных p2p протоколов, использующих технологию блокчейн разработчики платформы Аира будут добавлять их по мере возможности.

## Ссылки
